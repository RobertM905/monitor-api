{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "AC Project",
  "type": "object",
  "properties": {
    "summary": {
      "type": "object",
      "title": "Project Summary",
      "properties": {
        "localAuthority": {
          "type": "string",
          "title": "Local Authority"
        },
        "projectName": {
          "type": "string",
          "title": "Project Name"
        },
        "projectRef": {
          "type": "string",
          "title": "Project reference"
        },
        "projectDescription": {
          "type": "string",
          "title": "Project Description"
        },
        "sitesSummary": {
          "type": "array",
          "addable": true,
          "title": "Site(s)",
          "items": {
            "type": "object",
            "properties": {
              "summary" : {
                "type": "object",
                "title": "Summary",
                "properties": {
                  "name": {
                    "type": "string",
                    "title": "Parcel/Sub Site name"
                  },
                  "details" : {
                    "type": "object",
                    "horizontal": true,
                    "properties": {
                      "ref": {
                        "type": "string",
                        "title": "LMT / GIS ref"
                      },
                      "size": {
                        "type": "string",
                        "title": "Size (Ha)"
                      }
                    }
                  },
                  "planningStatus": {
                    "type": "string",
                    "title": "Planning status"
                  },
                  "contacts": {
                    "type": "object",
                    "horizontal": true,
                    "properties": {
                      "laContact": {
                        "type": "string",
                        "title": "Key local authority contact"
                      },
                      "heContact": {
                        "type": "string",
                        "title": "Key Homes England contact"
                      }
                    }
                  }
                }
              },
              "units": {
                "type": "object",
                "title": "Units",
                "properties": {
                  "numberOfUnits": {
                    "type": "object",
                    "title": "Number of:",
                    "horizontal": true,
                    "properties": {
                      "numberOfUnitsMarket": {
                        "type": "string",
                        "title": "Market sale"
                      },
                      "numberOfUnitsSharedOwnership": {
                        "type": "string",
                        "title": "Shared ownership"
                      },
                      "numberOfUnitsAffordable": {
                        "type": "string",
                        "title": "Affordable/social rent"
                      },
                      "numberOfUnitsPRS": {
                        "type": "string",
                        "title": "Private Rented"
                      },
                      "numberOfUnitsOther": {
                        "type": "string",
                        "title": "Other"
                      }
                    }
                  },
                  "numberOfUnitsTotal": {
                    "type": "string",
                    "title": "Total number of units"
                  }
                }
              }
            }
          }
        }
      }
    },
    "conditions": {
      "type": "object",
      "title": "Conditions",
      "properties": {
        "predrawdownConditions": {
          "type": "object",
          "title": "Pre-Drawdown Conditions",
          "properties": {
            "conditions": {
              "title": "",
              "type": "array",
              "addable": true,
              "items": {
                "type": "object",
                "properties": {
                  "conditionName": {
                    "type": "string",
                    "title": "Condition Name"
                  },
                  "conditionExplanation": {
                    "type": "string",
                    "title": "Condition explanation"
                  }
                }
              }
            }
          }
        },
        "fundingItems": {
          "type": "object",
          "title": "Funding Items",
          "properties": {
            "fundItems": {
              "title": "",
              "type": "array",
              "addable": true,
              "items": {
                "type": "object",
                "properties": {
                  "itemToFund": {
                    "title": "",
                    "type": "object",
                    "horizontal": true,
                    "properties": {
                      "fundingItem": {
                        "type": "string",
                        "title": "Funding item",
                        "extendedText": true
                      },
                      "estimatedFunding": {
                        "type": "string",
                        "title": "Estimated funding",
                        "currency": "true"
                      }
                    }
                  },
                  "fundingSite": {
                    "type": "string",
                    "title": "Site (if multiple)"
                  },
                  "fundingAgreed": {
                    "type": "string",
                    "title": "AC Funding agreed"
                  }
                }
              }
            }
          }
        }
      }
    },
    "financials": {
      "type": "object",
      "title": "Financials",
      "properties": {
        "expenditure": {
          "type": "array",
          "addable": true,
          "title": "Funding Drawdown",
          "items": {
            "type": "object",
            "properties": {
              "fundingDrawdown": {
                "type": "object",
                "title": "",
                "properties": {
                  "year": {
                    "type": "string",
                    "title": "Year"
                  },
                  "Q1Amount": {
                    "type": "string",
                    "title": "First Quarter",
                    "currency": true
                  },
                  "Q2Amount": {
                    "type": "string",
                    "title": "Second Quarter",
                    "currency": true
                  },
                  "Q3Amount": {
                    "type": "string",
                    "title": "Third Quarter",
                    "currency": true
                  },
                  "Q4Amount": {
                    "type": "string",
                    "title": "Fourth Quarter",
                    "currency": true
                  }
                }
              }
            }
          }
        },
        "receipts": {
          "type": "object",
          "title": "Receipts",
          "properties": {
            "expectedDisposalReceipt": {
              "type": "array",
              "addable": true,
              "title": "",
              "items": {
                "type": "object",
                "properties": {
                  "detailsOnPaymentStructure": {
                    "type": "string",
                    "title": "Details on payment structure"
                  },
                  "site": {
                    "type": "string",
                    "title": "Site"
                  },
                  "amount": {
                    "type": "string",
                    "title": "Amount",
                    "currency": true
                  },
                  "projectValue": {
                    "type": "string",
                    "title": "Projected (clean site) land value",
                    "currency": true
                  },
                  "clawback": {
                    "type": "string",
                    "title": "Clawback",
                    "percentage": true
                  }
                }
              }
            }
          }
        }
      }
    },
    "milestones": {
      "type": "object",
      "title": "Milestones",
      "properties": {
        "procurementOfWorksCommencementDate": {
          "type": "string",
          "format": "date",
          "title": "Procurement of works commencement date"
        },
        "provisionOfDetailedWorks": {
          "type": "string",
          "format": "date",
          "title": "Provision of detailed works specification and milestones"
        },
        "marketingCommenced": {
          "type": "string",
          "format": "date",
          "title": "Developer Partner marketing commenced (EOI or formal tender)"
        },
        "worksDate": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "commencementDate": {
              "type": "string",
              "format": "date",
              "title": "Commencement of works date (first, if multiple)"
            },
            "completionDate": {
              "type": "string",
              "format": "date",
              "title": "Completion of works date (last, if multiple)"
            }
          }
        },
        "outlinePlanning": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "outlinePlanningSubmissionDate": {
              "type": "string",
              "format": "date",
              "title": "Outline planning permission submitted date"
            },
            "outlinePlanningGrantedDate": {
              "type": "string",
              "format": "date",
              "title": "Outline planning permission granted date"
            }
          }
        },
        "detailedPlanning": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "detailedPlanningSubmissionDate": {
              "type": "string",
              "format": "date",
              "title": "Detailed planning permission submitted date"
            },
            "detailedPlanningGrantedDate": {
              "type": "string",
              "format": "date",
              "title": "Detailed planning permission granted date"
            }
          }
        },
        "contractSigned": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "conditionalContractSigned": {
              "type": "string",
              "format": "date",
              "title": "Conditional contract signed"
            },
            "unconditionalContractSigned": {
              "type": "string",
              "format": "date",
              "title": "Unconditional contract signed"
            }
          }
        },
        "workDates": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "startOnSiteDate": {
              "type": "string",
              "format": "date",
              "title": "Start on site date"
            },
            "startOnFirstUnitDate": {
              "type": "string",
              "format": "date",
              "title": "Start of first unit date"
            },
            "developmentEndDate": {
              "type": "string",
              "format": "date",
              "title": "Development end date (final unit completion)"
            }
          }
        },
        "customMileStones": {
          "type": "array",
          "addable": true,
          "title": "Custom Milestones",
          "items": {
            "type": "object",
            "properties": {
              "customTitle": {
                "type": "string",
                "title": "Milestone"
              },
              "customDate": {
                "type": "string",
                "title": "Date",
                "format": "date"
              }
            }
          }
        }
      }
    },
    "outputs": {
      "type": "object",
      "title": "Outputs",
      "properties": {
        "keyProgrammeObjectives": {
          "type": "object",
          "title": "Key Programme Objectives",
          "horizontal": true,
          "properties": {
            "localMarketPace": {
              "type": "string",
              "title": "Local Market Pace (units pm)"
            },
            "schemePace": {
              "type": "string",
              "title": "Scheme Pace (units pm)"
            }
          }
        },
        "mmcCategory": {
          "title": "MMC Category",
          "type": "array",
          "addable": true,
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "title": "Category Title"
              },
              "percent": {
                "type": "string",
                "title": "Percent Amount"
              }
            }
          }
        },
        "startAndCompletion": {
          "title": "",
          "type": "object",
          "horizontal": true,
          "properties": {
            "startOfFirstUnit": {
              "type": "string",
              "format": "date",
              "title": "Start of first unit"
            },
            "completionOfFinalUnit": {
              "type": "string",
              "format": "date",
              "title": "Completion of final unit"
            }
          }
        }
      }
    }
  }
}
